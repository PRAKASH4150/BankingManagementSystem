<section>
    <h2>Register to continue</h2>  
    <div id="errorContainer">
        <h3>{{userExistenceError}}</h3>
    </div>
    <div id="outer-container">
        <div id="inner-container">
          <form (ngSubmit)="onSubmit()" #userForm="ngForm">

            <div class="form-group">
                <label for="firstName" class="field">First name<span class="mandatory">*</span></label>
                <input type="text" class="form-control" name="firstName" required [(ngModel)]="user.firstName"
                #firstName="ngModel" [class.is-invalid]="firstName.touched && firstName.invalid">
                <div *ngIf="firstName.errors && (firstName.touched && firstName.invalid)">
                    <small *ngIf="firstName.errors.required" class="text-danger">FirstName is mandatory</small>
                </div>
            </div>


            <div class="form-group">
                <label for="lastName" class="field">Last name<span class="mandatory">*</span></label>
                <input type="text" class="form-control" name="lastName" required [(ngModel)]="user.lastName"
                 #lastName="ngModel" [class.is-invalid]="lastName.touched && lastName.invalid">
                <div *ngIf="lastName.errors && (lastName.touched && lastName.invalid)">
                    <small *ngIf="lastName.errors.required" class="text-danger">LastName is mandatory</small>
                </div>
            </div>

            <div class="form-group">
                <label for="dateOfBirth" class="field">Date Of Birth<span class="mandatory">*</span></label>
                <input type="date" class="form-control" required name="dateOfBirth" [(ngModel)]="user.dateOfBirth"> 
            </div>

            <div class="form-group">
                <label for="userName" class="field">Username<span class="mandatory">*</span></label>
                <input type="text" class="form-control" name="userName" required [(ngModel)]="user.userName"
                #userName="ngModel" [class.is-invalid]="userName.touched && userName.invalid">
                <small *ngIf="userName.touched && userName.invalid" 
                [class.d-none]="userName.untouched && userName.valid" class="text-danger">
                userName field cannot be empty
                </small>
            </div>

            <div class="form-group">
                <label for="password" class="field">Password <span class="mandatory">*</span></label>
                <input type="password" class="form-control" name="password" required [(ngModel)]="user.password"
                pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&].{8,}"
                #password="ngModel" [class.is-invalid]="password.touched && password.invalid">
                <div *ngIf="password.errors && (password.touched && password.invalid)">
                 <small *ngIf="password.errors.required" class="text-danger">Password is mandatory</small>
                 <small *ngIf="password.errors.pattern" class="text-danger">
                    Password should be atleast 8 characters long and must contain atleast one Uppercase letter, one lowercase letter,one number, one special character.
                 </small>
                </div>
               
            </div>

            <div class="form-group">
                <label for="aadharNo" class="field">Aadhar Number<span class="mandatory">*</span></label>
                <input type="text" class="form-control" required name="aadharNo" [(ngModel)]="user.aadharNo"
                #aadharNo="ngModel" [class.is-invalid]="aadharNo.touched && aadharNo.invalid"  pattern="^\d{12}$">
                <div *ngIf="aadharNo.errors && (aadharNo.invalid && aadharNo.touched)" >
                    <small class="text-danger" *ngIf="aadharNo.errors.required">AadharNumber field cannot be empty</small> 
                    <small class="text-danger" *ngIf="aadharNo.errors.pattern">AadharNumber must be twelve digits long</small> 
                </div> 
            </div>
            
            <div class="form-group">
                <label for="panNo" class="field">PAN Number<span class="mandatory">*</span></label>
                <input type="text" class="form-control" required name="panNo" [(ngModel)]="user.panNo"
                #panNo="ngModel" [class.is-invalid]="panNo.touched && panNo.invalid"  pattern="^[a-zA-Z0-9]{10}$">
                <div *ngIf="panNo.errors && (panNo.invalid && panNo.touched)" >
                    <small class="text-danger" *ngIf="panNo.errors.required">PAN Number field cannot be empty</small> 
                    <small class="text-danger" *ngIf="panNo.errors.pattern">PAN Number must be ten characters long</small> 
                </div> 
            </div>
            
           

            <div class="form-group">
                <button class="btn btn-success" id="loginbutton" [disabled]="userForm.invalid">Register</button>
            </div>
          </form>
        </div>
    </div> 
</section>
